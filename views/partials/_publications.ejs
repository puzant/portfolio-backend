<div class="p-4 my-2">
  <div class="d-flex align-items-center gap-3">
    <h2>
      <a class="text-black" style="text-decoration: none;" data-bs-toggle="collapse" role="button" href="#publicationsCollapse" aria-expanded="true" aria-controls="publicationsCollapse">
        <i class="bi bi-caret-right-fill"></i>
      </a>
      Publications
    </h2>

    <a href="publications/add">
      <h5><i class="bi bi-plus-circle-fill"></i></h5>
    </a>
  </div>

  <% if (publications.length == 0) { %>
    <div class="alert alert-light w-25" role="alert">
      There are no projects yet!
    </div>
  <% } else { %>

    <div class="collapse show" id="publicationsCollapse">
      <div class="d-flex gap-4">
        <% publications.forEach(publication => { %>
          <%- include('../partials/_deleteModal', { publication }) %>
          <%- include('../partials/_publication', { publication }) %>
        <% }) %>
      </div>
    </div>
  <% } %>

</div>

<script>


  // deleteBtns.forEach((btn) => {
  //   btn.addEventListener('click', async (e) => {
  //     const clickBtn = e.target
  //     const card = clickBtn.closest('.card')
  //     const id = card.dataset.id

  //     const decision = confirm("Are you sure you want to delete this item?")

  //     if (decision) {
  //       try {
  //         const response = await fetch(`/publications/api/delete/${id}`, { method: 'DELETE' })
  //         if (response) {
  //           Swal.fire({ text: "Publication Deleted!", icon: "success"});
  //         }
  //       } catch (err) {
          
  //       }

  //     }
  //   })
  // })
</script>